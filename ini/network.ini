block = "Network"

[commands]
net.traffic = "netstat -i -b -n\
 | awk '/usbus/ {next;}\
  /<Link/ {\
    print \"N_ib_\" $1, $8;\
    print \"N_ob_\" $1, $11;\
    print \"N_ie_\" $1, $6;\
    print \"N_oe_\" $1, $10;\
    print \"N_cl_\" $1, $12;\
  }'"
net.stats = "netstat -s\
 | awk '\
  /connection requests/ {print \"N_req\", $1}\
  /connections established/ {print \"N_est\", $1}\
  /stream reset/ {next} /reset/ {print \"N_rst\", $1}\
 '"

[network_traffic_em0]
label = "em0 traffic"
vertical_label = "bytes received (-) / sent (+) per second"
base = 1024
lower_limit = null
N_ib_em0['label'] = "bytes in"
N_ib_em0['type'] = rate
N_ob_em0['label'] = "bytes out"
N_ob_em0['type'] = rate
N_ob_em0['eval'] = "-(N_ob_em0)"

[network_cnx]
label = "Network connections"
vertical_label = "connections / second"
N_req['label'] = "requests"
N_req['type'] = rate
N_est['label'] = "established"
N_est['type'] = rate
N_rst['label'] = "resets"
N_rst['type'] = rate

[network_errors_em0]
label = "em0 errors & collisions"
vertical_label = "events / second"
N_ie_em0['label'] = "errors in"
N_ie_em0['type'] = rate
N_oe_em0['label'] = "errors out"
N_oe_em0['type'] = rate
N_cl_em0['label'] = "collisions"
N_cl_em0['type'] = rate
