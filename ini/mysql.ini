block = "MySQL"

[commands]
mysql.extended-status = "/usr/local/bin/mysqladmin -u root extended-status\
 | tail -n +4\
 | awk -F' *\\\\| *'\
  '/( Bytes_(received|sent) | Com_(select|insert|update|delete|replace) | Created_tmp_| Open(_files|_tables|ed_tables) | Qcache_hits | Slow_queries )/\
  {print \"MY_\"$2, $3}'"
mysql.variables = "/usr/local/bin/mysqladmin -u root variables\
 | tail -n +4\
 | awk -F' *\\\\| *'\
  '/ table_open_cache /\
  {print \"MY_\"$2, $3}'"
mysql.status = "/usr/local/bin/mysqladmin -u root status\
 | awk -F'  '\
  '{for (i=1;i<=NF;i++)\
    {if(match($i, /^Threads/)){
      gsub(\" \", \"_\", $i); gsub(\":_\", \" \", $i); print \"MY_\"$i\
    }}
  }'"

[mysql_bytes]
label = "MySQL troughput"
vertical_label = "bytes received (-) / sent (+) per second"
MY_Bytes_sent['label'] = "sent"
MY_Bytes_sent['type'] = rate
MY_Bytes_received['label'] = "received"
MY_Bytes_received['type'] = rate
MY_Bytes_received['invert'] = true

[mysql_queries]
label = "MySQL queries"
vertical_label = "queries"
MY_Com_select['label'] = "select"
MY_Com_select['type'] = increment
MY_Com_insert['label'] = "insert"
MY_Com_insert['type'] = increment
MY_Com_update['label'] = "update"
MY_Com_update['type'] = increment
MY_Com_delete['label'] = "delete"
MY_Com_delete['type'] = increment
MY_Com_replace['label'] = "replace"
MY_Com_replace['type'] = increment
MY_Qcache_hits['label'] = "query cache"
MY_Qcache_hits['type'] = increment

[mysql_slow_queries]
label = "MySQL slow queries"
vertical_label = "slow queries"
MY_Slow_queries['label'] = "slow queries"
MY_Slow_queries['type'] = increment

[mysql_threads]
label = "MySQL threads"
vertical_label = "threads"
MY_Threads['label'] = "threads"
MY_Threads['type'] = value

[mysql_files_tables]
label = "MySQL files and tables"
vertical_label = "tables"
MY_table_open_cache['label'] = "table open cache"
MY_table_open_cache['type'] = value
MY_Open_files['label'] = "open files"
MY_Open_files['type'] = value
MY_Open_tables['label'] = "open tables"
MY_Open_tables['type'] = value
MY_Opened_tables['label'] = "opened tables"
MY_Opened_tables['type'] = value

[mysql_tmp_tables]
label = "MySQL temporary objects"
vertical_label = "objects / second"
MY_Created_tmp_disk_tables['label'] = "C_t_disk_tables"
MY_Created_tmp_disk_tables['type'] = rate
MY_Created_tmp_tables['label'] = "C_t_tables"
MY_Created_tmp_tables['type'] = rate
MY_Created_tmp_files['label'] = "C_t_files"
MY_Created_tmp_files['type'] = rate
